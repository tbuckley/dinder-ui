<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/core-list/core-list.html">
<link rel="import" href="../../components/core-icon/core-icon.html">
<link rel="import" href="../../components/paper-button/paper-button.html">
<link rel="import" href="../dinder-placeholder-view/dinder-placeholder-view.html">
<link rel="import" href="../dinder-invite-item/dinder-invite-item.html">

<polymer-element name="dinder-invitations-list">
  <template>
    <link rel="stylesheet" href="dinder-invitations-list.css" />
    
    <!-- Empty list -->
    <template if="{{ !hasInvitations }}">
      <dinder-placeholder-view>
        <section>
          <h1>Welcome!</h1>
          <div>To get started planning a dinner, create a new group with your friends.</div>
        </section>
        <section>
          <paper-button>Create group</paper-button>
        </section>
      </dinder-placeholder-view>
    </template>

    <!-- Populated list -->
    <template if="{{ hasInvitations }}">
      <section list>
        <template repeat="{{group in groups}}">
          <dinder-invite-item group="{{group}}" meal="{{meals[group.id]}}" user="{{user}}">
          </dinder-invite-item>
        </template>
      </section>
    </template>

  </template>
  <script>
    Polymer({
      publish: {
        groups: null,
        meals: null,
        user: null,
      },
      computed: {
        hasInvitations: "groups && groups.length > 0",
      },
    });
  </script>
</polymer-element>